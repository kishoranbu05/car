<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FiveM Handling Generator Pro</title>

<style>
:root {
  --bg:#0e1117;
  --panel:#161b22;
  --accent:#4caf50;
  --muted:#9aa4af;
}
body{
  background:var(--bg);
  color:#e6edf3;
  font-family:Segoe UI,Roboto,Arial;
  margin:0;
  padding:20px;
}
h1{ text-align:center; color:var(--accent); }
.wrapper{
  max-width:1200px;
  margin:auto;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}
.card{
  background:var(--panel);
  padding:18px;
  border-radius:10px;
  box-shadow:0 0 0 1px #222;
}
label{
  display:block;
  margin-top:12px;
  font-size:14px;
  color:var(--muted);
}
input,select,textarea{
  width:100%;
  margin-top:6px;
  padding:10px;
  background:#0d1117;
  border:1px solid #30363d;
  border-radius:6px;
  color:#e6edf3;
}
textarea{ resize:vertical; min-height:260px; }
.range-wrap{
  display:flex;
  align-items:center;
  gap:10px;
}
.range-wrap span{
  min-width:40px;
  text-align:right;
  color:var(--accent);
}
button{
  margin-top:18px;
  width:100%;
  padding:12px;
  background:var(--accent);
  border:none;
  border-radius:8px;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
}
button:hover{ filter:brightness(1.05); }
.footer{
  text-align:center;
  margin-top:20px;
  font-size:13px;
  color:#8b949e;
}
@media(max-width:900px){
  .wrapper{ grid-template-columns:1fr; }
}
</style>
</head>

<body>

<h1>ðŸš— FiveM Handling Generator â€“ Pro</h1>

<div class="wrapper">

<!-- LEFT : INPUTS -->
<div class="card">

<label>Custom Vehicle Name (handlingName)</label>
<input id="name" placeholder="SUPERB" />

<label>Vehicle Type</label>
<select id="type">
  <option value="Sedan">Sedan</option>
  <option value="SUV">SUV</option>
  <option value="Coupe">Coupe</option>
  <option value="Super">Super</option>
  <option value="Muscle">Muscle</option>
  <option value="Off Road">Off Road</option>
  <option value="Police">Police</option>
  <option value="EMS">EMS</option>
  <option value="Compact">Compact</option>
  <option value="Van">Van</option>
</select>

<label>Vehicle Weight (kg)</label>
<input id="weight" type="number" value="1680" />

<label>Top Speed (KMPH)</label>
<div class="range-wrap">
  <input id="speed" type="range" min="100" max="590" step="10" value="180" oninput="speedVal.innerText=this.value">
  <span id="speedVal">180</span>
</div>

<label>Number of Gears</label>
<select id="gears">
  <option>5</option>
  <option selected>6</option>
  <option>7</option>
</select>

<button onclick="generate()">Generate Handling</button>

</div>

<!-- RIGHT : OUTPUT -->
<div class="card">
<label>Generated handling.meta</label>
<textarea id="out"></textarea>
</div>

</div>

<div class="footer">
Chart-based â€¢ RP safe â€¢ Stock feel â€¢ No fly â€¢ No rocket
</div>

<script>
/* ==============================
   SPEED CHART (from file)
============================== */
const speedChart = {
  180:{drag:4.2,drive:0.28,brake:4.8,hand:2.8,loss:0.52},
  170:{drag:4.3,drive:0.27,brake:4.7,hand:2.7,loss:0.53},
  160:{drag:4.4,drive:0.26,brake:4.6,hand:2.6,loss:0.54},
  150:{drag:4.5,drive:0.25,brake:4.5,hand:2.5,loss:0.55},
  140:{drag:4.4,drive:0.24,brake:4.4,hand:2.4,loss:0.56},
  130:{drag:4.3,drive:0.23,brake:4.3,hand:2.3,loss:0.57},
  120:{drag:4.2,drive:0.22,brake:4.2,hand:2.2,loss:0.58}
};

/* ==============================
   DAMAGE + FUEL CHART
============================== */
const damageChart = {
  Sedan:{col:0.5,wep:0.07,def:0.5,eng:0.5,fuel:80,oil:8},
  SUV:{col:0.5,wep:0.07,def:0.5,eng:0.5,fuel:80,oil:8},
  Coupe:{col:0.4,wep:0.06,def:0.4,eng:0.4,fuel:60,oil:6},
  Super:{col:0.4,wep:0.06,def:0.4,eng:0.4,fuel:60,oil:6},
  Muscle:{col:0.3,wep:0.05,def:0.3,eng:0.3,fuel:70,oil:7},
  "Off Road":{col:0.3,wep:0.05,def:0.3,eng:0.3,fuel:80,oil:8},
  Police:{col:0.3,wep:0.03,def:0.3,eng:0.3,fuel:80,oil:8},
  EMS:{col:0.3,wep:0.03,def:0.3,eng:0.3,fuel:90,oil:9},
  Compact:{col:0.6,wep:0.08,def:0.6,eng:0.6,fuel:70,oil:7},
  Van:{col:0.6,wep:0.08,def:0.6,eng:0.6,fuel:90,oil:9}
};

function f(n){ return Number(n).toFixed(6); }

function generate(){
  const name = (document.getElementById("name").value || "CUSTOM").toUpperCase();
  const type = document.getElementById("type").value;
  const weight = Number(document.getElementById("weight").value);
  const speed = document.getElementById("speed").value;
  const gears = document.getElementById("gears").value;

  const s = speedChart[speed];
  const d = damageChart[type];

  const xml = `<?xml version="1.0" encoding="UTF-8"?>
<CHandlingDataMgr>
<HandlingData>
<Item type="CHandlingData">
<handlingName>${name}</handlingName>

<fMass value="${f(weight)}"/>
<fInitialDragCoeff value="${f(s.drag)}"/>
<fPercentSubmerged value="85.000000"/>

<vecCentreOfMassOffset x="0.0" y="0.0" z="0.0"/>
<vecInertiaMultiplier x="1.0" y="1.4" z="1.6"/>

<fDriveBiasFront value="0.45"/>
<nInitialDriveGears value="${gears}"/>

<fInitialDriveForce value="${f(s.drive)}"/>
<fDriveInertia value="1.0"/>
<fClutchChangeRateScaleUpShift value="1.7"/>
<fClutchChangeRateScaleDownShift value="1.7"/>
<fInitialDriveMaxFlatVel value="${f(speed)}"/>

<fBrakeForce value="${f(s.brake)}"/>
<fBrakeBiasFront value="0.64"/>
<fHandBrakeForce value="${f(s.hand)}"/>

<fSteeringLock value="35.0"/>

<fTractionCurveMax value="2.1"/>
<fTractionCurveMin value="1.8"/>
<fTractionCurveLateral value="26.0"/>
<fLowSpeedTractionLossMult value="${f(s.loss)}"/>

<fCollisionDamageMult value="${f(d.col)}"/>
<fWeaponDamageMult value="${f(d.wep)}"/>
<fDeformationDamageMult value="${f(d.def)}"/>
<fEngineDamageMult value="${f(d.eng)}"/>

<fPetrolTankVolume value="${f(d.fuel)}"/>
<fOilVolume value="${f(d.oil)}"/>

<AIHandling>AVERAGE</AIHandling>
</Item>
</HandlingData>
</CHandlingDataMgr>`;

  document.getElementById("out").value = xml;
}
</script>

</body>
</html>
